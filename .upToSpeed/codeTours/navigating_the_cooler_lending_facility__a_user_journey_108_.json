{"title":"Navigating the Cooler Lending Facility: A User Journey","id":"hSgAA8xL0ZS+nqUeCftUznHCQIVZA9T91jrnjYfqJWg=","position":3,"steps":[{"type":"textOnly","description":"**The Cooler Lending Facility** is a decentralized platform that enables users to secure fixed-term loans against their `gOHM` holdings. This tour will guide you through the lending process from a user's perspective, covering loan requests, approvals, repayments, and default handling.","title":"","id":"536"},{"type":"highlight","description":"The **Cooler** contract defines two key structures: **`Request`** and **`Loan`**. The **`Request`** struct outlines the terms of a loan request, while the **`Loan`** struct represents an active loan. These structures form the foundation of the lending process, defining the terms and state of each loan.","file":"Cooler/src/Cooler.sol","highlight":[{"start":33,"end":51}],"title":"","id":"537"},{"type":"highlight","description":"The **requestLoan** function allows borrowers to initiate a loan request. It creates a new **Request** with the specified terms, transfers the collateral from the borrower to the **Cooler contract**, and emits an event to log the request.","file":"Cooler/src/Cooler.sol","highlight":[{"start":98,"end":125}],"title":"","id":"538"},{"type":"highlight","description":"The `generateCooler` function in the `CoolerFactory` contract creates new **Cooler** instances. It checks if a **Cooler** already exists for the given user, collateral, and debt combination. If not, it clones the **Cooler** implementation with specific parameters and stores the new **Cooler**'s address.","file":"Cooler/src/CoolerFactory.sol","highlight":[{"start":58,"end":78}],"title":"","id":"539"},{"type":"highlight","description":"The **`clearRequest`** function allows **lenders** to approve and fund loan requests. It verifies the request's validity, calculates the loan terms, creates a new **`Loan`**, and transfers the debt tokens from the lender to the borrower.","file":"Cooler/src/Cooler.sol","highlight":[{"start":233,"end":275}],"title":"","id":"540"},{"type":"highlight","description":"The **`lendToCooler`** function in the **Clearinghouse contract** facilitates the lending process. It validates the Cooler and its tokens, computes and transfers the required collateral, and creates and clears a loan request immediately.","file":"Cooler/src/Clearinghouse.sol","highlight":[{"start":129,"end":152}],"title":"","id":"541"},{"type":"highlight","description":"The `repayLoan` function handles loan repayments. It checks if the loan has defaulted, calculates the amount of collateral to be returned, updates the loan state, and transfers the repaid debt to the lender while returning collateral to the borrower.","file":"Cooler/src/Cooler.sol","highlight":[{"start":151,"end":187}],"title":"","id":"542"},{"type":"highlight","description":"**The `claimDefaulted` function** manages defaulted loans. It verifies that the loan has indeed defaulted, transfers the collateral to the lender, logs the default event, and triggers any necessary callbacks.","file":"Cooler/src/Cooler.sol","highlight":[{"start":318,"end":333}],"title":"","id":"543"},{"type":"textOnly","description":"This tour has covered the key aspects of the **Cooler Lending Facility** from a user's perspective. We've seen how loan requests are created, approved, and funded, as well as how repayments and defaults are handled. The interaction between the `Cooler`, `CoolerFactory`, and `Clearinghouse` contracts forms a comprehensive system for decentralized lending against **gOHM collateral**.","title":"","id":"544"}]}